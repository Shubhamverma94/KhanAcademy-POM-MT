"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
require("source-map-support/register");
var _logger = _interopRequireDefault(require("../logger.js"));
var _helpers = require("../helpers");
var _lodash = _interopRequireDefault(require("lodash"));
var _net = _interopRequireDefault(require("net"));
var _support = require("@appium/support");
var _bluebird = _interopRequireDefault(require("bluebird"));
var _path = _interopRequireDefault(require("path"));
var _ini = _interopRequireDefault(require("ini"));
const PHONE_NUMBER_PATTERN = /^[+]?[(]?[0-9]*[)]?[-\s.]?[0-9]*[-\s.]?[0-9]{2,}$/im;
const emuMethods = {};
emuMethods.POWER_AC_STATES = Object.freeze({
  POWER_AC_ON: 'on',
  POWER_AC_OFF: 'off'
});
emuMethods.GSM_CALL_ACTIONS = Object.freeze({
  GSM_CALL: 'call',
  GSM_ACCEPT: 'accept',
  GSM_CANCEL: 'cancel',
  GSM_HOLD: 'hold'
});
emuMethods.GSM_VOICE_STATES = Object.freeze({
  GSM_VOICE_UNREGISTERED: 'unregistered',
  GSM_VOICE_HOME: 'home',
  GSM_VOICE_ROAMING: 'roaming',
  GSM_VOICE_SEARCHING: 'searching',
  GSM_VOICE_DENIED: 'denied',
  GSM_VOICE_OFF: 'off',
  GSM_VOICE_ON: 'on'
});
emuMethods.GSM_SIGNAL_STRENGTHS = [0, 1, 2, 3, 4];
emuMethods.NETWORK_SPEED = Object.freeze({
  GSM: 'gsm',
  SCSD: 'scsd',
  GPRS: 'gprs',
  EDGE: 'edge',
  UMTS: 'umts',
  HSDPA: 'hsdpa',
  LTE: 'lte',
  EVDO: 'evdo',
  FULL: 'full'
});
emuMethods.SENSORS = Object.freeze({
  ACCELERATION: 'acceleration',
  GYROSCOPE: 'gyroscope',
  MAGNETIC_FIELD: 'magnetic-field',
  ORIENTATION: 'orientation',
  TEMPERATURE: 'temperature',
  PROXIMITY: 'proximity',
  LIGHT: 'light',
  PRESSURE: 'pressure',
  HUMIDITY: 'humidity',
  MAGNETIC_FIELD_UNCALIBRATED: 'magnetic-field-uncalibrated',
  GYROSCOPE_UNCALIBRATED: 'gyroscope-uncalibrated',
  HINGE_ANGLE0: 'hinge-angle0',
  HINGE_ANGLE1: 'hinge-angle1',
  HINGE_ANGLE2: 'hinge-angle2',
  HEART_RATE: 'heart-rate',
  RGBC_LIGHT: 'rgbc-light'
});
async function listEmulators() {
  let avdsRoot = process.env.ANDROID_AVD_HOME;
  if (await (0, _helpers.dirExists)(avdsRoot)) {
    return await getAvdConfigPaths(avdsRoot);
  }
  if (avdsRoot) {
    _logger.default.warn(`The value of the ANDROID_AVD_HOME environment variable '${avdsRoot}' is not an existing directory`);
  }
  const prefsRoot = await (0, _helpers.getAndroidPrefsRoot)();
  if (!prefsRoot) {
    return [];
  }
  avdsRoot = _path.default.resolve(prefsRoot, 'avd');
  if (!(await (0, _helpers.dirExists)(avdsRoot))) {
    _logger.default.debug(`Virtual devices config root '${avdsRoot}' is not an existing directory`);
    return [];
  }
  return await getAvdConfigPaths(avdsRoot);
}
async function getAvdConfigPaths(avdsRoot) {
  const configs = await _support.fs.glob('*.ini', {
    cwd: avdsRoot,
    absolute: true
  });
  return configs.map(confPath => {
    const avdName = _path.default.basename(confPath).split('.').slice(0, -1).join('.');
    return {
      name: avdName,
      config: confPath
    };
  }).filter(({
    name
  }) => _lodash.default.trim(name));
}
emuMethods.isEmulatorConnected = async function isEmulatorConnected() {
  let emulators = await this.getConnectedEmulators();
  return !!_lodash.default.find(emulators, x => x && x.udid === this.curDeviceId);
};
emuMethods.verifyEmulatorConnected = async function verifyEmulatorConnected() {
  if (!(await this.isEmulatorConnected())) {
    throw new Error(`The emulator "${this.curDeviceId}" was unexpectedly disconnected`);
  }
};
emuMethods.fingerprint = async function fingerprint(fingerprintId) {
  if (!fingerprintId) {
    throw new Error('Fingerprint id parameter must be defined');
  }
  let level = await this.getApiLevel();
  if (level < 23) {
    throw new Error(`Device API Level must be >= 23. Current Api level '${level}'`);
  }
  await this.adbExecEmu(['finger', 'touch', fingerprintId]);
};
emuMethods.rotate = async function rotate() {
  await this.adbExecEmu(['rotate']);
};
emuMethods.powerAC = async function powerAC(state = 'on') {
  if (_lodash.default.values(emuMethods.POWER_AC_STATES).indexOf(state) === -1) {
    throw new TypeError(`Wrong power AC state sent '${state}'. ` + `Supported values: ${_lodash.default.values(emuMethods.POWER_AC_STATES)}]`);
  }
  await this.adbExecEmu(['power', 'ac', state]);
};
emuMethods.sensorSet = async function sensorSet(sensor, value) {
  if (!_lodash.default.includes(emuMethods.SENSORS, sensor)) {
    throw new TypeError(`Unsupported sensor sent '${sensor}'. ` + `Supported values: ${_lodash.default.values(emuMethods.SENSORS)}]`);
  }
  if (_lodash.default.isNil(value) || value === '') {
    throw new TypeError(`Missing/invalid sensor value argument. ` + `You need to provide a valid value to set to the sensor in ` + `format <value-a>[:<value-b>[:<value-c>[...]]].`);
  }
  await this.adbExecEmu(['sensor', 'set', sensor, value]);
};
emuMethods.powerCapacity = async function powerCapacity(percent = 100) {
  percent = parseInt(percent, 10);
  if (isNaN(percent) || percent < 0 || percent > 100) {
    throw new Error(`The percentage value should be valid integer between 0 and 100`);
  }
  await this.adbExecEmu(['power', 'capacity', percent]);
};
emuMethods.powerOFF = async function powerOFF() {
  await this.powerAC(emuMethods.POWER_AC_STATES.POWER_AC_OFF);
  await this.powerCapacity(0);
};
emuMethods.sendSMS = async function sendSMS(phoneNumber, message = '') {
  message = message.trim();
  if (message === '') {
    throw new Error('Sending an SMS requires a message');
  }
  phoneNumber = `${phoneNumber}`.replace(/\s*/, '');
  if (!PHONE_NUMBER_PATTERN.test(phoneNumber)) {
    throw new Error(`Invalid sendSMS phoneNumber param ${phoneNumber}`);
  }
  await this.adbExecEmu(['sms', 'send', phoneNumber, message]);
};
emuMethods.gsmCall = async function gsmCall(phoneNumber, action = '') {
  if (_lodash.default.values(emuMethods.GSM_CALL_ACTIONS).indexOf(action) === -1) {
    throw new Error(`Invalid gsm action param ${action}. Supported values: ${_lodash.default.values(emuMethods.GSM_CALL_ACTIONS)}`);
  }
  phoneNumber = `${phoneNumber}`.replace(/\s*/, '');
  if (!PHONE_NUMBER_PATTERN.test(phoneNumber)) {
    throw new Error(`Invalid gsmCall phoneNumber param ${phoneNumber}`);
  }
  await this.adbExecEmu(['gsm', action, phoneNumber]);
};
emuMethods.gsmSignal = async function gsmSignal(strength = 4) {
  strength = parseInt(strength, 10);
  if (emuMethods.GSM_SIGNAL_STRENGTHS.indexOf(strength) === -1) {
    throw new Error(`Invalid signal strength param ${strength}. Supported values: ${_lodash.default.values(emuMethods.GSM_SIGNAL_STRENGTHS)}`);
  }
  _logger.default.info('gsm signal-profile <strength> changes the reported strength on next (15s) update.');
  await this.adbExecEmu(['gsm', 'signal-profile', strength]);
};
emuMethods.gsmVoice = async function gsmVoice(state = 'on') {
  if (_lodash.default.values(emuMethods.GSM_VOICE_STATES).indexOf(state) === -1) {
    throw new Error(`Invalid gsm voice state param ${state}. Supported values: ${_lodash.default.values(emuMethods.GSM_VOICE_STATES)}`);
  }
  await this.adbExecEmu(['gsm', 'voice', state]);
};
emuMethods.networkSpeed = async function networkSpeed(speed = 'full') {
  if (_lodash.default.values(emuMethods.NETWORK_SPEED).indexOf(speed) === -1) {
    throw new Error(`Invalid network speed param ${speed}. Supported values: ${_lodash.default.values(emuMethods.NETWORK_SPEED)}`);
  }
  await this.adbExecEmu(['network', 'speed', speed]);
};
emuMethods.execEmuConsoleCommand = async function execTelnet(cmd, opts = {}) {
  let port = parseInt(opts.port, 10);
  if (!port) {
    const portMatch = /emulator-(\d+)/i.exec(this.curDeviceId);
    if (!portMatch) {
      throw new Error(`Cannot parse the console port number from the device identifier '${this.curDeviceId}'. ` + `Is it an emulator?`);
    }
    port = parseInt(portMatch[1], 10);
  }
  const host = '127.0.0.1';
  const {
    execTimeout = 60000,
    connTimeout = 5000,
    initTimeout = 5000
  } = opts;
  await this.resetTelnetAuthToken();
  const okFlag = /^OK$/m;
  const nokFlag = /^KO\b/m;
  const eol = '\r\n';
  const client = _net.default.connect({
    host,
    port
  });
  return await new _bluebird.default((resolve, reject) => {
    const connTimeoutObj = setTimeout(() => reject(new Error(`Cannot connect to the Emulator console at ${host}:${port} ` + `after ${connTimeout}ms`)), connTimeout);
    let execTimeoutObj;
    let initTimeoutObj;
    let isCommandSent = false;
    let serverResponse = [];
    client.once('error', e => {
      clearTimeout(connTimeoutObj);
      reject(new Error(`Cannot connect to the Emulator console at ${host}:${port}. ` + `Original error: ${e.message}`));
    });
    client.once('connect', () => {
      clearTimeout(connTimeoutObj);
      initTimeoutObj = setTimeout(() => reject(new Error(`Did not get the initial response from the Emulator console at ${host}:${port} ` + `after ${initTimeout}ms`)), initTimeout);
    });
    client.on('data', chunk => {
      serverResponse.push(chunk);
      const output = Buffer.concat(serverResponse).toString('utf8').trim();
      if (okFlag.test(output)) {
        if (!isCommandSent) {
          clearTimeout(initTimeoutObj);
          serverResponse = [];
          const cmdStr = _lodash.default.isArray(cmd) ? _support.util.quote(cmd) : `${cmd}`;
          _logger.default.debug(`Executing Emulator console command: ${cmdStr}`);
          client.write(cmdStr);
          client.write(eol);
          isCommandSent = true;
          execTimeoutObj = setTimeout(() => reject(new Error(`Did not get any response from the Emulator console at ${host}:${port} ` + `to '${cmd}' command after ${execTimeout}ms`)), execTimeout);
          return;
        }
        clearTimeout(execTimeoutObj);
        client.end();
        const outputArr = output.split(eol);
        return resolve(outputArr.slice(0, outputArr.length - 1).join('\n').trim());
      } else if (nokFlag.test(output)) {
        clearTimeout(initTimeoutObj);
        clearTimeout(execTimeoutObj);
        client.end();
        const outputArr = output.split(eol);
        return reject(_lodash.default.trim(_lodash.default.last(outputArr)));
      }
    });
  });
};
emuMethods.getEmuVersionInfo = async function getEmuVersionInfo() {
  const propsPath = _path.default.join(this.sdkRoot, 'emulator', 'source.properties');
  if (!(await _support.fs.exists(propsPath))) {
    return {};
  }
  const content = await _support.fs.readFile(propsPath, 'utf8');
  const revisionMatch = /^Pkg\.Revision=([\d.]+)$/m.exec(content);
  const result = {};
  if (revisionMatch) {
    result.revision = revisionMatch[1];
  }
  const buildIdMatch = /^Pkg\.BuildId=(\d+)$/m.exec(content);
  if (buildIdMatch) {
    result.buildId = parseInt(buildIdMatch[1], 10);
  }
  return result;
};
emuMethods.getEmuImageProperties = async function getEmuImageProperties(avdName) {
  const avds = await listEmulators();
  const avd = avds.find(({
    name
  }) => name === avdName);
  if (!avd) {
    let msg = `Cannot find '${avdName}' emulator. `;
    if (_lodash.default.isEmpty(avds)) {
      msg += `No emulators have been detected on your system`;
    } else {
      msg += `Available avd names are: ${avds.map(({
        name
      }) => name)}`;
    }
    throw new Error(msg);
  }
  return _ini.default.parse(await _support.fs.readFile(avd.config, 'utf8'));
};
emuMethods.checkAvdExist = async function checkAvdExist(avdName) {
  const avds = await listEmulators();
  if (!avds.some(({
    name
  }) => name === avdName)) {
    let msg = `Avd '${avdName}' is not available. `;
    if (_lodash.default.isEmpty(avds)) {
      msg += `No emulators have been detected on your system`;
    } else {
      msg += `Please select your avd name from one of these: '${avds.map(({
        name
      }) => name)}'`;
    }
    throw new Error(msg);
  }
  return true;
};
var _default = emuMethods;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9nZ2VyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfaGVscGVycyIsIl9sb2Rhc2giLCJfbmV0IiwiX3N1cHBvcnQiLCJfYmx1ZWJpcmQiLCJfcGF0aCIsIl9pbmkiLCJQSE9ORV9OVU1CRVJfUEFUVEVSTiIsImVtdU1ldGhvZHMiLCJQT1dFUl9BQ19TVEFURVMiLCJPYmplY3QiLCJmcmVlemUiLCJQT1dFUl9BQ19PTiIsIlBPV0VSX0FDX09GRiIsIkdTTV9DQUxMX0FDVElPTlMiLCJHU01fQ0FMTCIsIkdTTV9BQ0NFUFQiLCJHU01fQ0FOQ0VMIiwiR1NNX0hPTEQiLCJHU01fVk9JQ0VfU1RBVEVTIiwiR1NNX1ZPSUNFX1VOUkVHSVNURVJFRCIsIkdTTV9WT0lDRV9IT01FIiwiR1NNX1ZPSUNFX1JPQU1JTkciLCJHU01fVk9JQ0VfU0VBUkNISU5HIiwiR1NNX1ZPSUNFX0RFTklFRCIsIkdTTV9WT0lDRV9PRkYiLCJHU01fVk9JQ0VfT04iLCJHU01fU0lHTkFMX1NUUkVOR1RIUyIsIk5FVFdPUktfU1BFRUQiLCJHU00iLCJTQ1NEIiwiR1BSUyIsIkVER0UiLCJVTVRTIiwiSFNEUEEiLCJMVEUiLCJFVkRPIiwiRlVMTCIsIlNFTlNPUlMiLCJBQ0NFTEVSQVRJT04iLCJHWVJPU0NPUEUiLCJNQUdORVRJQ19GSUVMRCIsIk9SSUVOVEFUSU9OIiwiVEVNUEVSQVRVUkUiLCJQUk9YSU1JVFkiLCJMSUdIVCIsIlBSRVNTVVJFIiwiSFVNSURJVFkiLCJNQUdORVRJQ19GSUVMRF9VTkNBTElCUkFURUQiLCJHWVJPU0NPUEVfVU5DQUxJQlJBVEVEIiwiSElOR0VfQU5HTEUwIiwiSElOR0VfQU5HTEUxIiwiSElOR0VfQU5HTEUyIiwiSEVBUlRfUkFURSIsIlJHQkNfTElHSFQiLCJsaXN0RW11bGF0b3JzIiwiYXZkc1Jvb3QiLCJwcm9jZXNzIiwiZW52IiwiQU5EUk9JRF9BVkRfSE9NRSIsImRpckV4aXN0cyIsImdldEF2ZENvbmZpZ1BhdGhzIiwibG9nIiwid2FybiIsInByZWZzUm9vdCIsImdldEFuZHJvaWRQcmVmc1Jvb3QiLCJwYXRoIiwicmVzb2x2ZSIsImRlYnVnIiwiY29uZmlncyIsImZzIiwiZ2xvYiIsImN3ZCIsImFic29sdXRlIiwibWFwIiwiY29uZlBhdGgiLCJhdmROYW1lIiwiYmFzZW5hbWUiLCJzcGxpdCIsInNsaWNlIiwiam9pbiIsIm5hbWUiLCJjb25maWciLCJmaWx0ZXIiLCJfIiwidHJpbSIsImlzRW11bGF0b3JDb25uZWN0ZWQiLCJlbXVsYXRvcnMiLCJnZXRDb25uZWN0ZWRFbXVsYXRvcnMiLCJmaW5kIiwieCIsInVkaWQiLCJjdXJEZXZpY2VJZCIsInZlcmlmeUVtdWxhdG9yQ29ubmVjdGVkIiwiRXJyb3IiLCJmaW5nZXJwcmludCIsImZpbmdlcnByaW50SWQiLCJsZXZlbCIsImdldEFwaUxldmVsIiwiYWRiRXhlY0VtdSIsInJvdGF0ZSIsInBvd2VyQUMiLCJzdGF0ZSIsInZhbHVlcyIsImluZGV4T2YiLCJUeXBlRXJyb3IiLCJzZW5zb3JTZXQiLCJzZW5zb3IiLCJ2YWx1ZSIsImluY2x1ZGVzIiwiaXNOaWwiLCJwb3dlckNhcGFjaXR5IiwicGVyY2VudCIsInBhcnNlSW50IiwiaXNOYU4iLCJwb3dlck9GRiIsInNlbmRTTVMiLCJwaG9uZU51bWJlciIsIm1lc3NhZ2UiLCJyZXBsYWNlIiwidGVzdCIsImdzbUNhbGwiLCJhY3Rpb24iLCJnc21TaWduYWwiLCJzdHJlbmd0aCIsImluZm8iLCJnc21Wb2ljZSIsIm5ldHdvcmtTcGVlZCIsInNwZWVkIiwiZXhlY0VtdUNvbnNvbGVDb21tYW5kIiwiZXhlY1RlbG5ldCIsImNtZCIsIm9wdHMiLCJwb3J0IiwicG9ydE1hdGNoIiwiZXhlYyIsImhvc3QiLCJleGVjVGltZW91dCIsImNvbm5UaW1lb3V0IiwiaW5pdFRpbWVvdXQiLCJyZXNldFRlbG5ldEF1dGhUb2tlbiIsIm9rRmxhZyIsIm5va0ZsYWciLCJlb2wiLCJjbGllbnQiLCJuZXQiLCJjb25uZWN0IiwiQiIsInJlamVjdCIsImNvbm5UaW1lb3V0T2JqIiwic2V0VGltZW91dCIsImV4ZWNUaW1lb3V0T2JqIiwiaW5pdFRpbWVvdXRPYmoiLCJpc0NvbW1hbmRTZW50Iiwic2VydmVyUmVzcG9uc2UiLCJvbmNlIiwiZSIsImNsZWFyVGltZW91dCIsIm9uIiwiY2h1bmsiLCJwdXNoIiwib3V0cHV0IiwiQnVmZmVyIiwiY29uY2F0IiwidG9TdHJpbmciLCJjbWRTdHIiLCJpc0FycmF5IiwidXRpbCIsInF1b3RlIiwid3JpdGUiLCJlbmQiLCJvdXRwdXRBcnIiLCJsZW5ndGgiLCJsYXN0IiwiZ2V0RW11VmVyc2lvbkluZm8iLCJwcm9wc1BhdGgiLCJzZGtSb290IiwiZXhpc3RzIiwiY29udGVudCIsInJlYWRGaWxlIiwicmV2aXNpb25NYXRjaCIsInJlc3VsdCIsInJldmlzaW9uIiwiYnVpbGRJZE1hdGNoIiwiYnVpbGRJZCIsImdldEVtdUltYWdlUHJvcGVydGllcyIsImF2ZHMiLCJhdmQiLCJtc2ciLCJpc0VtcHR5IiwiaW5pIiwicGFyc2UiLCJjaGVja0F2ZEV4aXN0Iiwic29tZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvdG9vbHMvYWRiLWVtdS1jb21tYW5kcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nIGZyb20gJy4uL2xvZ2dlci5qcyc7XG5pbXBvcnQgeyBnZXRBbmRyb2lkUHJlZnNSb290LCBkaXJFeGlzdHMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgbmV0IGZyb20gJ25ldCc7XG5pbXBvcnQgeyB1dGlsLCBmcyB9IGZyb20gJ0BhcHBpdW0vc3VwcG9ydCc7XG5pbXBvcnQgQiBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBpbmkgZnJvbSAnaW5pJztcblxuY29uc3QgUEhPTkVfTlVNQkVSX1BBVFRFUk4gPSAvXlsrXT9bKF0/WzAtOV0qWyldP1stXFxzLl0/WzAtOV0qWy1cXHMuXT9bMC05XXsyLH0kL2ltO1xuXG5jb25zdCBlbXVNZXRob2RzID0ge307XG5lbXVNZXRob2RzLlBPV0VSX0FDX1NUQVRFUyA9IE9iamVjdC5mcmVlemUoe1xuICBQT1dFUl9BQ19PTjogJ29uJyxcbiAgUE9XRVJfQUNfT0ZGOiAnb2ZmJ1xufSk7XG5lbXVNZXRob2RzLkdTTV9DQUxMX0FDVElPTlMgPSBPYmplY3QuZnJlZXplKHtcbiAgR1NNX0NBTEw6ICdjYWxsJyxcbiAgR1NNX0FDQ0VQVDogJ2FjY2VwdCcsXG4gIEdTTV9DQU5DRUw6ICdjYW5jZWwnLFxuICBHU01fSE9MRDogJ2hvbGQnXG59KTtcbmVtdU1ldGhvZHMuR1NNX1ZPSUNFX1NUQVRFUyA9IE9iamVjdC5mcmVlemUoe1xuICBHU01fVk9JQ0VfVU5SRUdJU1RFUkVEOiAndW5yZWdpc3RlcmVkJyxcbiAgR1NNX1ZPSUNFX0hPTUU6ICdob21lJyxcbiAgR1NNX1ZPSUNFX1JPQU1JTkc6ICdyb2FtaW5nJyxcbiAgR1NNX1ZPSUNFX1NFQVJDSElORzogJ3NlYXJjaGluZycsXG4gIEdTTV9WT0lDRV9ERU5JRUQ6ICdkZW5pZWQnLFxuICBHU01fVk9JQ0VfT0ZGOiAnb2ZmJyxcbiAgR1NNX1ZPSUNFX09OOiAnb24nXG59KTtcbmVtdU1ldGhvZHMuR1NNX1NJR05BTF9TVFJFTkdUSFMgPSBbMCwgMSwgMiwgMywgNF07XG5cbmVtdU1ldGhvZHMuTkVUV09SS19TUEVFRCA9IE9iamVjdC5mcmVlemUoe1xuICBHU006ICdnc20nLCAvLyBHU00vQ1NEICh1cDogMTQuNCwgZG93bjogMTQuNCkuXG4gIFNDU0Q6ICdzY3NkJywgLy8gSFNDU0QgKHVwOiAxNC40LCBkb3duOiA1Ny42KS5cbiAgR1BSUzogJ2dwcnMnLCAvLyBHUFJTICh1cDogMjguOCwgZG93bjogNTcuNikuXG4gIEVER0U6ICdlZGdlJywgLy8gRURHRS9FR1BSUyAodXA6IDQ3My42LCBkb3duOiA0NzMuNikuXG4gIFVNVFM6ICd1bXRzJywgLy8gVU1UUy8zRyAodXA6IDM4NC4wLCBkb3duOiAzODQuMCkuXG4gIEhTRFBBOiAnaHNkcGEnLCAvLyBIU0RQQSAodXA6IDU3NjAuMCwgZG93bjogMTMsOTgwLjApLlxuICBMVEU6ICdsdGUnLCAvLyBMVEUgKHVwOiA1OCwwMDAsIGRvd246IDE3MywwMDApLlxuICBFVkRPOiAnZXZkbycsIC8vIEVWRE8gKHVwOiA3NSwwMDAsIGRvd246IDI4MCwwMDApLlxuICBGVUxMOiAnZnVsbCcgLy8gTm8gbGltaXQsIHRoZSBkZWZhdWx0ICh1cDogMC4wLCBkb3duOiAwLjApLlxufSk7XG5cbmVtdU1ldGhvZHMuU0VOU09SUyA9IE9iamVjdC5mcmVlemUoe1xuICBBQ0NFTEVSQVRJT046ICdhY2NlbGVyYXRpb24nLFxuICBHWVJPU0NPUEU6ICdneXJvc2NvcGUnLFxuICBNQUdORVRJQ19GSUVMRDogJ21hZ25ldGljLWZpZWxkJyxcbiAgT1JJRU5UQVRJT046ICdvcmllbnRhdGlvbicsXG4gIFRFTVBFUkFUVVJFOiAndGVtcGVyYXR1cmUnLFxuICBQUk9YSU1JVFk6ICdwcm94aW1pdHknLFxuICBMSUdIVDogJ2xpZ2h0JyxcbiAgUFJFU1NVUkU6ICdwcmVzc3VyZScsXG4gIEhVTUlESVRZOiAnaHVtaWRpdHknLFxuICBNQUdORVRJQ19GSUVMRF9VTkNBTElCUkFURUQ6ICdtYWduZXRpYy1maWVsZC11bmNhbGlicmF0ZWQnLFxuICBHWVJPU0NPUEVfVU5DQUxJQlJBVEVEOiAnZ3lyb3Njb3BlLXVuY2FsaWJyYXRlZCcsXG4gIEhJTkdFX0FOR0xFMDogJ2hpbmdlLWFuZ2xlMCcsXG4gIEhJTkdFX0FOR0xFMTogJ2hpbmdlLWFuZ2xlMScsXG4gIEhJTkdFX0FOR0xFMjogJ2hpbmdlLWFuZ2xlMicsXG4gIEhFQVJUX1JBVEU6ICdoZWFydC1yYXRlJyxcbiAgUkdCQ19MSUdIVDogJ3JnYmMtbGlnaHQnLFxufSk7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRW11SW5mb1xuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWUgRW11bGF0b3IgbmFtZSwgZm9yIGV4YW1wbGUgYFBpeGVsX1hMX0FQSV8zMGBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjb25maWcgRnVsbCBwYXRoIHRvIHRoZSBlbXVsYXRvciBjb25maWcgLmluaSBmaWxlLFxuICogZm9yIGV4YW1wbGUgYC9Vc2Vycy91c2VyLy5hbmRyb2lkL2F2ZC9QaXhlbF9YTF9BUElfMzAuaW5pYFxuICovXG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBBbmRyb2lkIGVtdWxhdG9yc1xuICpcbiAqIEByZXR1cm5zIHtBcnJheTxFbXVJbmZvPn1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbGlzdEVtdWxhdG9ycyAoKSB7XG4gIGxldCBhdmRzUm9vdCA9IHByb2Nlc3MuZW52LkFORFJPSURfQVZEX0hPTUU7XG4gIGlmIChhd2FpdCBkaXJFeGlzdHMoYXZkc1Jvb3QpKSB7XG4gICAgcmV0dXJuIGF3YWl0IGdldEF2ZENvbmZpZ1BhdGhzKGF2ZHNSb290KTtcbiAgfVxuXG4gIGlmIChhdmRzUm9vdCkge1xuICAgIGxvZy53YXJuKGBUaGUgdmFsdWUgb2YgdGhlIEFORFJPSURfQVZEX0hPTUUgZW52aXJvbm1lbnQgdmFyaWFibGUgJyR7YXZkc1Jvb3R9JyBpcyBub3QgYW4gZXhpc3RpbmcgZGlyZWN0b3J5YCk7XG4gIH1cblxuICBjb25zdCBwcmVmc1Jvb3QgPSBhd2FpdCBnZXRBbmRyb2lkUHJlZnNSb290KCk7XG4gIGlmICghcHJlZnNSb290KSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgYXZkc1Jvb3QgPSBwYXRoLnJlc29sdmUocHJlZnNSb290LCAnYXZkJyk7XG4gIGlmICghYXdhaXQgZGlyRXhpc3RzKGF2ZHNSb290KSkge1xuICAgIGxvZy5kZWJ1ZyhgVmlydHVhbCBkZXZpY2VzIGNvbmZpZyByb290ICcke2F2ZHNSb290fScgaXMgbm90IGFuIGV4aXN0aW5nIGRpcmVjdG9yeWApO1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJldHVybiBhd2FpdCBnZXRBdmRDb25maWdQYXRocyhhdmRzUm9vdCk7XG59XG5cbi8qKlxuICogR2V0IGNvbmZpZ3VyYXRpb24gcGF0aHMgb2YgYWxsIHZpcnR1YWwgZGV2aWNlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdmRzUm9vdCBQYXRoIHRvIHRoZSBkaXJlY3RvcnkgdGhhdCBjb250YWlucyB0aGUgQVZEIC5pbmkgZmlsZXNcbiAqIEByZXR1cm5zIHtBcnJheTxFbXVJbmZvPn1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0QXZkQ29uZmlnUGF0aHMgKGF2ZHNSb290KSB7XG4gIGNvbnN0IGNvbmZpZ3MgPSBhd2FpdCBmcy5nbG9iKCcqLmluaScsIHtcbiAgICBjd2Q6IGF2ZHNSb290LFxuICAgIGFic29sdXRlOiB0cnVlLFxuICB9KTtcbiAgcmV0dXJuIGNvbmZpZ3MubWFwKChjb25mUGF0aCkgPT4ge1xuICAgIGNvbnN0IGF2ZE5hbWUgPSBwYXRoLmJhc2VuYW1lKGNvbmZQYXRoKS5zcGxpdCgnLicpLnNsaWNlKDAsIC0xKS5qb2luKCcuJyk7XG4gICAgcmV0dXJuIHtuYW1lOiBhdmROYW1lLCBjb25maWc6IGNvbmZQYXRofTtcbiAgfSkuZmlsdGVyKCh7bmFtZX0pID0+IF8udHJpbShuYW1lKSk7XG59XG5cbi8qKlxuICogQ2hlY2sgdGhlIGVtdWxhdG9yIHN0YXRlLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgRW11bGF0b3IgaXMgdmlzaWJsZSB0byBhZGIuXG4gKi9cbmVtdU1ldGhvZHMuaXNFbXVsYXRvckNvbm5lY3RlZCA9IGFzeW5jIGZ1bmN0aW9uIGlzRW11bGF0b3JDb25uZWN0ZWQgKCkge1xuICBsZXQgZW11bGF0b3JzID0gYXdhaXQgdGhpcy5nZXRDb25uZWN0ZWRFbXVsYXRvcnMoKTtcbiAgcmV0dXJuICEhXy5maW5kKGVtdWxhdG9ycywgKHgpID0+IHggJiYgeC51ZGlkID09PSB0aGlzLmN1ckRldmljZUlkKTtcbn07XG5cbi8qKlxuICogVmVyaWZ5IHRoZSBlbXVsYXRvciBpcyBjb25uZWN0ZWQuXG4gKlxuICogQHRocm93cyB7ZXJyb3J9IElmIEVtdWxhdG9yIGlzIG5vdCB2aXNpYmxlIHRvIGFkYi5cbiAqL1xuZW11TWV0aG9kcy52ZXJpZnlFbXVsYXRvckNvbm5lY3RlZCA9IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeUVtdWxhdG9yQ29ubmVjdGVkICgpIHtcbiAgaWYgKCEoYXdhaXQgdGhpcy5pc0VtdWxhdG9yQ29ubmVjdGVkKCkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZW11bGF0b3IgXCIke3RoaXMuY3VyRGV2aWNlSWR9XCIgd2FzIHVuZXhwZWN0ZWRseSBkaXNjb25uZWN0ZWRgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBFbXVsYXRlIGZpbmdlcnByaW50IHRvdWNoIGV2ZW50IG9uIHRoZSBjb25uZWN0ZWQgZW11bGF0b3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZpbmdlcnByaW50SWQgLSBUaGUgSUQgb2YgdGhlIGZpbmdlcnByaW50LlxuICovXG5lbXVNZXRob2RzLmZpbmdlcnByaW50ID0gYXN5bmMgZnVuY3Rpb24gZmluZ2VycHJpbnQgKGZpbmdlcnByaW50SWQpIHtcbiAgaWYgKCFmaW5nZXJwcmludElkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGaW5nZXJwcmludCBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBkZWZpbmVkJyk7XG4gIH1cbiAgLy8gdGhlIG1ldGhvZCB1c2VkIG9ubHkgd29ya3MgZm9yIEFQSSBsZXZlbCAyMyBhbmQgYWJvdmVcbiAgbGV0IGxldmVsID0gYXdhaXQgdGhpcy5nZXRBcGlMZXZlbCgpO1xuICBpZiAobGV2ZWwgPCAyMykge1xuICAgIHRocm93IG5ldyBFcnJvcihgRGV2aWNlIEFQSSBMZXZlbCBtdXN0IGJlID49IDIzLiBDdXJyZW50IEFwaSBsZXZlbCAnJHtsZXZlbH0nYCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5hZGJFeGVjRW11KFsnZmluZ2VyJywgJ3RvdWNoJywgZmluZ2VycHJpbnRJZF0pO1xufTtcblxuLyoqXG4gKiBDaGFuZ2UgdGhlIGRpc3BsYXkgb3JpZW50YXRpb24gb24gdGhlIGNvbm5lY3RlZCBlbXVsYXRvci5cbiAqIFRoZSBvcmllbnRhdGlvbiBpcyBjaGFuZ2VkIChQSS8yIGlzIGFkZGVkKSBldmVyeSB0aW1lXG4gKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQuXG4gKi9cbmVtdU1ldGhvZHMucm90YXRlID0gYXN5bmMgZnVuY3Rpb24gcm90YXRlICgpIHtcbiAgYXdhaXQgdGhpcy5hZGJFeGVjRW11KFsncm90YXRlJ10pO1xufTtcblxuLyoqXG4gKiBFbXVsYXRlIHBvd2VyIHN0YXRlIGNoYW5nZSBvbiB0aGUgY29ubmVjdGVkIGVtdWxhdG9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0ZSBbJ29uJ10gLSBFaXRoZXIgJ29uJyBvciAnb2ZmJy5cbiAqL1xuZW11TWV0aG9kcy5wb3dlckFDID0gYXN5bmMgZnVuY3Rpb24gcG93ZXJBQyAoc3RhdGUgPSAnb24nKSB7XG4gIGlmIChfLnZhbHVlcyhlbXVNZXRob2RzLlBPV0VSX0FDX1NUQVRFUykuaW5kZXhPZihzdGF0ZSkgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgV3JvbmcgcG93ZXIgQUMgc3RhdGUgc2VudCAnJHtzdGF0ZX0nLiBgXG4gICAgICArIGBTdXBwb3J0ZWQgdmFsdWVzOiAke18udmFsdWVzKGVtdU1ldGhvZHMuUE9XRVJfQUNfU1RBVEVTKX1dYCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5hZGJFeGVjRW11KFsncG93ZXInLCAnYWMnLCBzdGF0ZV0pO1xufTtcblxuLyoqXG4gKiBFbXVsYXRlIHNlbnNvcnMgdmFsdWVzIG9uIHRoZSBjb25uZWN0ZWQgZW11bGF0b3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNlbnNvciAtIFNlbnNvciB0eXBlIGRlY2xhcmVkIGluIFNFTlNPUlMgaXRlbXMuXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHZhbHVlICAtIE51bWJlciB0byBzZXQgYXMgdGhlIHNlbnNvciB2YWx1ZS5cbiAqIEB0aHJvd3Mge0Vycm9yfSAtIElmIHNlbnNvciB0eXBlIG9yIHNlbnNvciB2YWx1ZSBpcyBub3QgZGVmaW5lZFxuICovXG5lbXVNZXRob2RzLnNlbnNvclNldCA9IGFzeW5jIGZ1bmN0aW9uIHNlbnNvclNldCAoc2Vuc29yLCB2YWx1ZSkge1xuICBpZiAoIV8uaW5jbHVkZXMoZW11TWV0aG9kcy5TRU5TT1JTLCBzZW5zb3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5zdXBwb3J0ZWQgc2Vuc29yIHNlbnQgJyR7c2Vuc29yfScuIGBcbiAgICAgICsgYFN1cHBvcnRlZCB2YWx1ZXM6ICR7Xy52YWx1ZXMoZW11TWV0aG9kcy5TRU5TT1JTKX1dYCk7XG4gIH1cbiAgaWYgKF8uaXNOaWwodmFsdWUpIHx8IHZhbHVlID09PSAnJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE1pc3NpbmcvaW52YWxpZCBzZW5zb3IgdmFsdWUgYXJndW1lbnQuIGBcbiAgICAgICsgYFlvdSBuZWVkIHRvIHByb3ZpZGUgYSB2YWxpZCB2YWx1ZSB0byBzZXQgdG8gdGhlIHNlbnNvciBpbiBgXG4gICAgICArIGBmb3JtYXQgPHZhbHVlLWE+Wzo8dmFsdWUtYj5bOjx2YWx1ZS1jPlsuLi5dXV0uYCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5hZGJFeGVjRW11KFsnc2Vuc29yJywgJ3NldCcsIHNlbnNvciwgdmFsdWVdKTtcbn07XG5cbi8qKlxuICogRW11bGF0ZSBwb3dlciBjYXBhY2l0eSBjaGFuZ2Ugb24gdGhlIGNvbm5lY3RlZCBlbXVsYXRvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IHBlcmNlbnQgWzEwMF0gLSBQZXJjZW50YWdlIHZhbHVlIGluIHJhbmdlIFswLCAxMDBdLlxuICovXG5lbXVNZXRob2RzLnBvd2VyQ2FwYWNpdHkgPSBhc3luYyBmdW5jdGlvbiBwb3dlckNhcGFjaXR5IChwZXJjZW50ID0gMTAwKSB7XG4gIHBlcmNlbnQgPSBwYXJzZUludChwZXJjZW50LCAxMCk7XG4gIGlmIChpc05hTihwZXJjZW50KSB8fCBwZXJjZW50IDwgMCB8fCBwZXJjZW50ID4gMTAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgcGVyY2VudGFnZSB2YWx1ZSBzaG91bGQgYmUgdmFsaWQgaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDEwMGApO1xuICB9XG4gIGF3YWl0IHRoaXMuYWRiRXhlY0VtdShbJ3Bvd2VyJywgJ2NhcGFjaXR5JywgcGVyY2VudF0pO1xufTtcblxuLyoqXG4gKiBFbXVsYXRlIHBvd2VyIG9mZiBldmVudCBvbiB0aGUgY29ubmVjdGVkIGVtdWxhdG9yLlxuICovXG5lbXVNZXRob2RzLnBvd2VyT0ZGID0gYXN5bmMgZnVuY3Rpb24gcG93ZXJPRkYgKCkge1xuICBhd2FpdCB0aGlzLnBvd2VyQUMoZW11TWV0aG9kcy5QT1dFUl9BQ19TVEFURVMuUE9XRVJfQUNfT0ZGKTtcbiAgYXdhaXQgdGhpcy5wb3dlckNhcGFjaXR5KDApO1xufTtcblxuLyoqXG4gKiBFbXVsYXRlIHNlbmQgU01TIGV2ZW50IG9uIHRoZSBjb25uZWN0ZWQgZW11bGF0b3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBwaG9uZU51bWJlciAtIFRoZSBwaG9uZSBudW1iZXIgb2YgbWVzc2FnZSBzZW5kZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBbJyddIC0gVGhlIG1lc3NhZ2UgY29udGVudC5cbiAqIEB0aHJvd3Mge2Vycm9yfSBJZiBwaG9uZSBudW1iZXIgaGFzIGludmFsaWQgZm9ybWF0LlxuICovXG5lbXVNZXRob2RzLnNlbmRTTVMgPSBhc3luYyBmdW5jdGlvbiBzZW5kU01TIChwaG9uZU51bWJlciwgbWVzc2FnZSA9ICcnKSB7XG4gIG1lc3NhZ2UgPSBtZXNzYWdlLnRyaW0oKTtcbiAgaWYgKG1lc3NhZ2UgPT09ICcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZW5kaW5nIGFuIFNNUyByZXF1aXJlcyBhIG1lc3NhZ2UnKTtcbiAgfVxuICBwaG9uZU51bWJlciA9IGAke3Bob25lTnVtYmVyfWAucmVwbGFjZSgvXFxzKi8sICcnKTtcbiAgaWYgKCFQSE9ORV9OVU1CRVJfUEFUVEVSTi50ZXN0KHBob25lTnVtYmVyKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzZW5kU01TIHBob25lTnVtYmVyIHBhcmFtICR7cGhvbmVOdW1iZXJ9YCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5hZGJFeGVjRW11KFsnc21zJywgJ3NlbmQnLCBwaG9uZU51bWJlciwgbWVzc2FnZV0pO1xufTtcblxuLyoqXG4gKiBFbXVsYXRlIEdTTSBjYWxsIGV2ZW50IG9uIHRoZSBjb25uZWN0ZWQgZW11bGF0b3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBwaG9uZU51bWJlciAtIFRoZSBwaG9uZSBudW1iZXIgb2YgdGhlIGNhbGxlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gWycnXSAtIE9uZSBvZiBhdmFpbGFibGUgR1NNIGNhbGwgYWN0aW9ucy5cbiAqIEB0aHJvd3Mge2Vycm9yfSBJZiBwaG9uZSBudW1iZXIgaGFzIGludmFsaWQgZm9ybWF0LlxuICogQHRocm93cyB7ZXJyb3J9IElmIF9hY3Rpb25fIHZhbHVlIGlzIGludmFsaWQuXG4gKi9cbmVtdU1ldGhvZHMuZ3NtQ2FsbCA9IGFzeW5jIGZ1bmN0aW9uIGdzbUNhbGwgKHBob25lTnVtYmVyLCBhY3Rpb24gPSAnJykge1xuICBpZiAoXy52YWx1ZXMoZW11TWV0aG9kcy5HU01fQ0FMTF9BQ1RJT05TKS5pbmRleE9mKGFjdGlvbikgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGdzbSBhY3Rpb24gcGFyYW0gJHthY3Rpb259LiBTdXBwb3J0ZWQgdmFsdWVzOiAke18udmFsdWVzKGVtdU1ldGhvZHMuR1NNX0NBTExfQUNUSU9OUyl9YCk7XG4gIH1cbiAgcGhvbmVOdW1iZXIgPSBgJHtwaG9uZU51bWJlcn1gLnJlcGxhY2UoL1xccyovLCAnJyk7XG4gIGlmICghUEhPTkVfTlVNQkVSX1BBVFRFUk4udGVzdChwaG9uZU51bWJlcikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZ3NtQ2FsbCBwaG9uZU51bWJlciBwYXJhbSAke3Bob25lTnVtYmVyfWApO1xuICB9XG4gIGF3YWl0IHRoaXMuYWRiRXhlY0VtdShbJ2dzbScsIGFjdGlvbiwgcGhvbmVOdW1iZXJdKTtcbn07XG5cbi8qKlxuICogRW11bGF0ZSBHU00gc2lnbmFsIHN0cmVuZ3RoIGNoYW5nZSBldmVudCBvbiB0aGUgY29ubmVjdGVkIGVtdWxhdG9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gc3RyZW5ndGggWzRdIC0gQSBudW1iZXIgaW4gcmFuZ2UgWzAsIDRdO1xuICogQHRocm93cyB7ZXJyb3J9IElmIF9zdHJlbmd0aF8gdmFsdWUgaXMgaW52YWxpZC5cbiAqL1xuZW11TWV0aG9kcy5nc21TaWduYWwgPSBhc3luYyBmdW5jdGlvbiBnc21TaWduYWwgKHN0cmVuZ3RoID0gNCkge1xuICBzdHJlbmd0aCA9IHBhcnNlSW50KHN0cmVuZ3RoLCAxMCk7XG4gIGlmIChlbXVNZXRob2RzLkdTTV9TSUdOQUxfU1RSRU5HVEhTLmluZGV4T2Yoc3RyZW5ndGgpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzaWduYWwgc3RyZW5ndGggcGFyYW0gJHtzdHJlbmd0aH0uIFN1cHBvcnRlZCB2YWx1ZXM6ICR7Xy52YWx1ZXMoZW11TWV0aG9kcy5HU01fU0lHTkFMX1NUUkVOR1RIUyl9YCk7XG4gIH1cbiAgbG9nLmluZm8oJ2dzbSBzaWduYWwtcHJvZmlsZSA8c3RyZW5ndGg+IGNoYW5nZXMgdGhlIHJlcG9ydGVkIHN0cmVuZ3RoIG9uIG5leHQgKDE1cykgdXBkYXRlLicpO1xuICBhd2FpdCB0aGlzLmFkYkV4ZWNFbXUoWydnc20nLCAnc2lnbmFsLXByb2ZpbGUnLCBzdHJlbmd0aF0pO1xufTtcblxuLyoqXG4gKiBFbXVsYXRlIEdTTSB2b2ljZSBldmVudCBvbiB0aGUgY29ubmVjdGVkIGVtdWxhdG9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0ZSBbJ29uJ10gLSBFaXRoZXIgJ29uJyBvciAnb2ZmJy5cbiAqIEB0aHJvd3Mge2Vycm9yfSBJZiBfc3RhdGVfIHZhbHVlIGlzIGludmFsaWQuXG4gKi9cbmVtdU1ldGhvZHMuZ3NtVm9pY2UgPSBhc3luYyBmdW5jdGlvbiBnc21Wb2ljZSAoc3RhdGUgPSAnb24nKSB7XG4gIC8vIGdzbSB2b2ljZSA8c3RhdGU+IGFsbG93cyB5b3UgdG8gY2hhbmdlIHRoZSBzdGF0ZSBvZiB5b3VyIEdQUlMgY29ubmVjdGlvblxuICBpZiAoXy52YWx1ZXMoZW11TWV0aG9kcy5HU01fVk9JQ0VfU1RBVEVTKS5pbmRleE9mKHN0YXRlKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZ3NtIHZvaWNlIHN0YXRlIHBhcmFtICR7c3RhdGV9LiBTdXBwb3J0ZWQgdmFsdWVzOiAke18udmFsdWVzKGVtdU1ldGhvZHMuR1NNX1ZPSUNFX1NUQVRFUyl9YCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5hZGJFeGVjRW11KFsnZ3NtJywgJ3ZvaWNlJywgc3RhdGVdKTtcbn07XG5cbi8qKlxuICogRW11bGF0ZSBuZXR3b3JrIHNwZWVkIGNoYW5nZSBldmVudCBvbiB0aGUgY29ubmVjdGVkIGVtdWxhdG9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcGVlZCBbJ2Z1bGwnXSAtIE9uZSBvZiBwb3NzaWJsZSBORVRXT1JLX1NQRUVEIHZhbHVlcy5cbiAqIEB0aHJvd3Mge2Vycm9yfSBJZiBfc3BlZWRfIHZhbHVlIGlzIGludmFsaWQuXG4gKi9cbmVtdU1ldGhvZHMubmV0d29ya1NwZWVkID0gYXN5bmMgZnVuY3Rpb24gbmV0d29ya1NwZWVkIChzcGVlZCA9ICdmdWxsJykge1xuICAvLyBuZXR3b3JrIHNwZWVkIDxzcGVlZD4gYWxsb3dzIHlvdSB0byBzZXQgdGhlIG5ldHdvcmsgc3BlZWQgZW11bGF0aW9uLlxuICBpZiAoXy52YWx1ZXMoZW11TWV0aG9kcy5ORVRXT1JLX1NQRUVEKS5pbmRleE9mKHNwZWVkKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbmV0d29yayBzcGVlZCBwYXJhbSAke3NwZWVkfS4gU3VwcG9ydGVkIHZhbHVlczogJHtfLnZhbHVlcyhlbXVNZXRob2RzLk5FVFdPUktfU1BFRUQpfWApO1xuICB9XG4gIGF3YWl0IHRoaXMuYWRiRXhlY0VtdShbJ25ldHdvcmsnLCAnc3BlZWQnLCBzcGVlZF0pO1xufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFeGVjVGVsbmV0T3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGV4ZWNUaW1lb3V0IFs2MDAwMF0gQSB0aW1lb3V0IHVzZWQgdG8gd2FpdCBmb3IgYSBzZXJ2ZXJcbiAqIHJlcGx5IHRvIHRoZSBnaXZlbiBjb21tYW5kXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29ublRpbWVvdXQgWzUwMDBdIENvbnNvbGUgY29ubmVjdGlvbiB0aW1lb3V0IGluIG1pbGxpc2Vjb25kc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGluaXRUaW1lb3V0IFs1MDAwXSBUZWxuZXQgY29uc29sZSBpbml0aWFsaXphdGlvbiB0aW1lb3V0XG4gKiBpbiBtaWxsaXNlY29uZHMgKHRoZSB0aW1lIGJldHdlZW4gY29ubmVjdGlvbiBoYXBwZW5zIGFuZCB0aGUgY29tbWFuZCBwcm9tcHRcbiAqIGlzIGF2YWlsYWJsZSlcbiAqIEBwcm9wZXJ0eSB7P251bWJlcnxzdHJpbmd9IHBvcnQgVGhlIGVtdWxhdG9yIHBvcnQgbnVtYmVyLiBUaGUgbWV0aG9kIHdpbGwgdHJ5IHRvIHBhcnNlIGl0XG4gKiBmcm9tIHRoZSBjdXJyZW50IGRldmljZSBpZGVudGlmaWVyIGlmIHVuc2V0XG4gKi9cblxuLyoqXG4gKiBFeGVjdXRlcyBhIGNvbW1hbmQgdGhyb3VnaCBlbXVsYXRvciB0ZWxuZXQgY29uc29sZSBpbnRlcmZhY2UgYW5kIHJldHVybnMgaXRzIG91dHB1dFxuICpcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPnxzdHJpbmd9IGNtZCAtIFRoZSBhY3R1YWwgY29tbWFuZCB0byBleGVjdXRlLiBTZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLmFuZHJvaWQuY29tL3N0dWRpby9ydW4vZW11bGF0b3ItY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzXG4gKiBvbiBhdmFpbGFibGUgY29tbWFuZHNcbiAqIEBwYXJhbSB7RXhlY1RlbG5ldE9wdGlvbnN9IG9wdHNcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21tYW5kIG91dHB1dFxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZXJlIHdhcyBhbiBlcnJvciB3aGlsZSBjb25uZWN0aW5nIHRvIHRoZSBUZWxuZXQgY29uc29sZVxuICogb3IgaWYgdGhlIGdpdmVuIGNvbW1hbmQgcmV0dXJuZWQgbm9uLU9LIHJlc3BvbnNlXG4gKi9cbmVtdU1ldGhvZHMuZXhlY0VtdUNvbnNvbGVDb21tYW5kID0gYXN5bmMgZnVuY3Rpb24gZXhlY1RlbG5ldCAoY21kLCBvcHRzID0ge30pIHtcbiAgbGV0IHBvcnQgPSBwYXJzZUludChvcHRzLnBvcnQsIDEwKTtcbiAgaWYgKCFwb3J0KSB7XG4gICAgY29uc3QgcG9ydE1hdGNoID0gL2VtdWxhdG9yLShcXGQrKS9pLmV4ZWModGhpcy5jdXJEZXZpY2VJZCk7XG4gICAgaWYgKCFwb3J0TWF0Y2gpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHBhcnNlIHRoZSBjb25zb2xlIHBvcnQgbnVtYmVyIGZyb20gdGhlIGRldmljZSBpZGVudGlmaWVyICcke3RoaXMuY3VyRGV2aWNlSWR9Jy4gYCArXG4gICAgICAgIGBJcyBpdCBhbiBlbXVsYXRvcj9gKTtcbiAgICB9XG4gICAgcG9ydCA9IHBhcnNlSW50KHBvcnRNYXRjaFsxXSwgMTApO1xuICB9XG4gIGNvbnN0IGhvc3QgPSAnMTI3LjAuMC4xJztcbiAgY29uc3Qge1xuICAgIGV4ZWNUaW1lb3V0ID0gNjAwMDAsXG4gICAgY29ublRpbWVvdXQgPSA1MDAwLFxuICAgIGluaXRUaW1lb3V0ID0gNTAwMCxcbiAgfSA9IG9wdHM7XG4gIGF3YWl0IHRoaXMucmVzZXRUZWxuZXRBdXRoVG9rZW4oKTtcblxuICBjb25zdCBva0ZsYWcgPSAvXk9LJC9tO1xuICBjb25zdCBub2tGbGFnID0gL15LT1xcYi9tO1xuICBjb25zdCBlb2wgPSAnXFxyXFxuJztcbiAgY29uc3QgY2xpZW50ID0gbmV0LmNvbm5lY3Qoe1xuICAgIGhvc3QsXG4gICAgcG9ydCxcbiAgfSk7XG5cbiAgcmV0dXJuIGF3YWl0IG5ldyBCKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBjb25uVGltZW91dE9iaiA9IHNldFRpbWVvdXQoXG4gICAgICAoKSA9PiByZWplY3QobmV3IEVycm9yKGBDYW5ub3QgY29ubmVjdCB0byB0aGUgRW11bGF0b3IgY29uc29sZSBhdCAke2hvc3R9OiR7cG9ydH0gYCArXG4gICAgICAgIGBhZnRlciAke2Nvbm5UaW1lb3V0fW1zYCkpLCBjb25uVGltZW91dCk7XG4gICAgbGV0IGV4ZWNUaW1lb3V0T2JqO1xuICAgIGxldCBpbml0VGltZW91dE9iajtcbiAgICBsZXQgaXNDb21tYW5kU2VudCA9IGZhbHNlO1xuICAgIGxldCBzZXJ2ZXJSZXNwb25zZSA9IFtdO1xuXG4gICAgY2xpZW50Lm9uY2UoJ2Vycm9yJywgKGUpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChjb25uVGltZW91dE9iaik7XG4gICAgICByZWplY3QobmV3IEVycm9yKGBDYW5ub3QgY29ubmVjdCB0byB0aGUgRW11bGF0b3IgY29uc29sZSBhdCAke2hvc3R9OiR7cG9ydH0uIGAgK1xuICAgICAgICBgT3JpZ2luYWwgZXJyb3I6ICR7ZS5tZXNzYWdlfWApKTtcbiAgICB9KTtcblxuICAgIGNsaWVudC5vbmNlKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KGNvbm5UaW1lb3V0T2JqKTtcbiAgICAgIGluaXRUaW1lb3V0T2JqID0gc2V0VGltZW91dChcbiAgICAgICAgKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihgRGlkIG5vdCBnZXQgdGhlIGluaXRpYWwgcmVzcG9uc2UgZnJvbSB0aGUgRW11bGF0b3IgY29uc29sZSBhdCAke2hvc3R9OiR7cG9ydH0gYCArXG4gICAgICAgICAgYGFmdGVyICR7aW5pdFRpbWVvdXR9bXNgKSksIGluaXRUaW1lb3V0KTtcbiAgICB9KTtcblxuICAgIGNsaWVudC5vbignZGF0YScsIChjaHVuaykgPT4ge1xuICAgICAgc2VydmVyUmVzcG9uc2UucHVzaChjaHVuayk7XG4gICAgICBjb25zdCBvdXRwdXQgPSBCdWZmZXIuY29uY2F0KHNlcnZlclJlc3BvbnNlKS50b1N0cmluZygndXRmOCcpLnRyaW0oKTtcbiAgICAgIGlmIChva0ZsYWcudGVzdChvdXRwdXQpKSB7XG4gICAgICAgIC8vIFRoZSBpbml0aWFsIGluY29taW5nIGRhdGEgY2h1bmsgY29uZmlybXMgdGhlIGludGVyZmFjZSBpcyByZWFkeSBmb3IgaW5wdXRcbiAgICAgICAgaWYgKCFpc0NvbW1hbmRTZW50KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGluaXRUaW1lb3V0T2JqKTtcbiAgICAgICAgICBzZXJ2ZXJSZXNwb25zZSA9IFtdO1xuICAgICAgICAgIGNvbnN0IGNtZFN0ciA9IF8uaXNBcnJheShjbWQpID8gdXRpbC5xdW90ZShjbWQpIDogYCR7Y21kfWA7XG4gICAgICAgICAgbG9nLmRlYnVnKGBFeGVjdXRpbmcgRW11bGF0b3IgY29uc29sZSBjb21tYW5kOiAke2NtZFN0cn1gKTtcbiAgICAgICAgICBjbGllbnQud3JpdGUoY21kU3RyKTtcbiAgICAgICAgICBjbGllbnQud3JpdGUoZW9sKTtcbiAgICAgICAgICBpc0NvbW1hbmRTZW50ID0gdHJ1ZTtcbiAgICAgICAgICBleGVjVGltZW91dE9iaiA9IHNldFRpbWVvdXQoXG4gICAgICAgICAgICAoKSA9PiByZWplY3QobmV3IEVycm9yKGBEaWQgbm90IGdldCBhbnkgcmVzcG9uc2UgZnJvbSB0aGUgRW11bGF0b3IgY29uc29sZSBhdCAke2hvc3R9OiR7cG9ydH0gYCArXG4gICAgICAgICAgICAgIGB0byAnJHtjbWR9JyBjb21tYW5kIGFmdGVyICR7ZXhlY1RpbWVvdXR9bXNgKSksIGV4ZWNUaW1lb3V0KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KGV4ZWNUaW1lb3V0T2JqKTtcbiAgICAgICAgY2xpZW50LmVuZCgpO1xuICAgICAgICBjb25zdCBvdXRwdXRBcnIgPSBvdXRwdXQuc3BsaXQoZW9sKTtcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSByZWR1bmRhbnQgT0sgZmxhZyBmcm9tIHRoZSByZXN1bHRpbmcgY29tbWFuZCBvdXRwdXRcbiAgICAgICAgcmV0dXJuIHJlc29sdmUob3V0cHV0QXJyLnNsaWNlKDAsIG91dHB1dEFyci5sZW5ndGggLSAxKS5qb2luKCdcXG4nKS50cmltKCkpO1xuICAgICAgfSBlbHNlIGlmIChub2tGbGFnLnRlc3Qob3V0cHV0KSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoaW5pdFRpbWVvdXRPYmopO1xuICAgICAgICBjbGVhclRpbWVvdXQoZXhlY1RpbWVvdXRPYmopO1xuICAgICAgICBjbGllbnQuZW5kKCk7XG4gICAgICAgIGNvbnN0IG91dHB1dEFyciA9IG91dHB1dC5zcGxpdChlb2wpO1xuICAgICAgICByZXR1cm4gcmVqZWN0KF8udHJpbShfLmxhc3Qob3V0cHV0QXJyKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gRW11VmVyc2lvbkluZm9cbiAqIEBwcm9wZXJ0eSB7P3N0cmluZ30gcmV2aXNpb24gVGhlIGFjdHVhbCByZXZpc2lvbiBudW1iZXIsIGZvciBleGFtcGxlICczMC4wLjUnXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IGJ1aWxkSWQgVGhlIGJ1aWxkIGlkZW50aWZpZXIsIGZvciBleGFtcGxlIDYzMDYwNDdcbiAqL1xuXG4vKipcbiAqIFJldHJpZXZlcyBlbXVsYXRvciB2ZXJzaW9uIGZyb20gdGhlIGZpbGUgc3lzdGVtXG4gKlxuICogQHJldHVybnMge0VtdVZlcnNpb25JbmZvfSBJZiBubyB2ZXJzaW9uIGluZm8gY291bGQgYmUgcGFyc2VkIHRoZW4gYW4gZW1wdHlcbiAqIG9iamVjdCBpcyByZXR1cm5lZFxuICovXG5lbXVNZXRob2RzLmdldEVtdVZlcnNpb25JbmZvID0gYXN5bmMgZnVuY3Rpb24gZ2V0RW11VmVyc2lvbkluZm8gKCkge1xuICBjb25zdCBwcm9wc1BhdGggPSBwYXRoLmpvaW4odGhpcy5zZGtSb290LCAnZW11bGF0b3InLCAnc291cmNlLnByb3BlcnRpZXMnKTtcbiAgaWYgKCFhd2FpdCBmcy5leGlzdHMocHJvcHNQYXRoKSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBmcy5yZWFkRmlsZShwcm9wc1BhdGgsICd1dGY4Jyk7XG4gIGNvbnN0IHJldmlzaW9uTWF0Y2ggPSAvXlBrZ1xcLlJldmlzaW9uPShbXFxkLl0rKSQvbS5leGVjKGNvbnRlbnQpO1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgaWYgKHJldmlzaW9uTWF0Y2gpIHtcbiAgICByZXN1bHQucmV2aXNpb24gPSByZXZpc2lvbk1hdGNoWzFdO1xuICB9XG4gIGNvbnN0IGJ1aWxkSWRNYXRjaCA9IC9eUGtnXFwuQnVpbGRJZD0oXFxkKykkL20uZXhlYyhjb250ZW50KTtcbiAgaWYgKGJ1aWxkSWRNYXRjaCkge1xuICAgIHJlc3VsdC5idWlsZElkID0gcGFyc2VJbnQoYnVpbGRJZE1hdGNoWzFdLCAxMCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogUmV0cmlldmVzIGVtdWxhdG9yIGltYWdlIHByb3BlcnRpZXMgZnJvbSB0aGUgbG9jYWwgZmlsZSBzeXN0ZW1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYXZkTmFtZSBFbXVsYXRvciBuYW1lLiBTaG91bGQgTk9UIHN0YXJ0IHdpdGggJ0AnIGNoYXJhY3RlclxuICogQHRocm93cyB7RXJyb3J9IGlmIHRoZXJlIHdhcyBhIGZhaWx1cmUgd2hpbGUgZXh0cmFjdGluZyB0aGUgcHJvcGVydGllc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGNvbnRlbnQgb2YgZW11bGF0b3IgaW1hZ2UgcHJvcGVydGllcyBmaWxlLlxuICogVXN1YWxseSB0aGlzIGNvbmZpZ3VyYXRpb24gLmluaSBmaWxlIGhhcyB0aGUgZm9sbG93aW5nIGNvbnRlbnQ6XG4gKiAgIGF2ZC5pbmkuZW5jb2Rpbmc9VVRGLThcbiAqICAgcGF0aD0vVXNlcnMvdXNlcm5hbWUvLmFuZHJvaWQvYXZkL1BpeGVsX1hMX0FQSV8zMC5hdmRcbiAqICAgcGF0aC5yZWw9YXZkL1BpeGVsX1hMX0FQSV8zMC5hdmRcbiAqICAgdGFyZ2V0PWFuZHJvaWQtMzBcbiAqL1xuZW11TWV0aG9kcy5nZXRFbXVJbWFnZVByb3BlcnRpZXMgPSBhc3luYyBmdW5jdGlvbiBnZXRFbXVJbWFnZVByb3BlcnRpZXMgKGF2ZE5hbWUpIHtcbiAgY29uc3QgYXZkcyA9IGF3YWl0IGxpc3RFbXVsYXRvcnMoKTtcbiAgY29uc3QgYXZkID0gYXZkcy5maW5kKCh7bmFtZX0pID0+IG5hbWUgPT09IGF2ZE5hbWUpO1xuICBpZiAoIWF2ZCkge1xuICAgIGxldCBtc2cgPSBgQ2Fubm90IGZpbmQgJyR7YXZkTmFtZX0nIGVtdWxhdG9yLiBgO1xuICAgIGlmIChfLmlzRW1wdHkoYXZkcykpIHtcbiAgICAgIG1zZyArPSBgTm8gZW11bGF0b3JzIGhhdmUgYmVlbiBkZXRlY3RlZCBvbiB5b3VyIHN5c3RlbWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1zZyArPSBgQXZhaWxhYmxlIGF2ZCBuYW1lcyBhcmU6ICR7YXZkcy5tYXAoKHtuYW1lfSkgPT4gbmFtZSl9YDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gIH1cbiAgcmV0dXJuIGluaS5wYXJzZShhd2FpdCBmcy5yZWFkRmlsZShhdmQuY29uZmlnLCAndXRmOCcpKTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgZ2l2ZW4gZW11bGF0b3IgZXhpc3RzIGluIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBhdmRzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdmROYW1lIC0gVGhlIG5hbWUgb2YgZW11bGF0b3IgdG8gdmVyaWZ5IGZvciBleGlzdGVuY2UuXG4gKiBTaG91bGQgTk9UIHN0YXJ0IHdpdGggJ0AnIGNoYXJhY3RlclxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBlbXVsYXRvciB3aXRoIGdpdmVuIG5hbWUgZG9lcyBub3QgZXhpc3QuXG4gKi9cbmVtdU1ldGhvZHMuY2hlY2tBdmRFeGlzdCA9IGFzeW5jIGZ1bmN0aW9uIGNoZWNrQXZkRXhpc3QgKGF2ZE5hbWUpIHtcbiAgY29uc3QgYXZkcyA9IGF3YWl0IGxpc3RFbXVsYXRvcnMoKTtcbiAgaWYgKCFhdmRzLnNvbWUoKHtuYW1lfSkgPT4gbmFtZSA9PT0gYXZkTmFtZSkpIHtcbiAgICBsZXQgbXNnID0gYEF2ZCAnJHthdmROYW1lfScgaXMgbm90IGF2YWlsYWJsZS4gYDtcbiAgICBpZiAoXy5pc0VtcHR5KGF2ZHMpKSB7XG4gICAgICBtc2cgKz0gYE5vIGVtdWxhdG9ycyBoYXZlIGJlZW4gZGV0ZWN0ZWQgb24geW91ciBzeXN0ZW1gO1xuICAgIH0gZWxzZSB7XG4gICAgICBtc2cgKz0gYFBsZWFzZSBzZWxlY3QgeW91ciBhdmQgbmFtZSBmcm9tIG9uZSBvZiB0aGVzZTogJyR7YXZkcy5tYXAoKHtuYW1lfSkgPT4gbmFtZSl9J2A7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZW11TWV0aG9kcztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxRQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxPQUFBLEdB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