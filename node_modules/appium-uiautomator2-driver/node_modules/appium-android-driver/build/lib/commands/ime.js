"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.helpers = exports.default = exports.commands = void 0;
require("source-map-support/register");
var _driver = require("appium/driver");
let commands = {},
  helpers = {},
  extensions = {};
exports.helpers = helpers;
exports.commands = commands;
commands.isIMEActivated = async function isIMEActivated() {
  return true;
};
commands.availableIMEEngines = async function availableIMEEngines() {
  this.log.debug('Retrieving available IMEs');
  let engines = await this.adb.availableIMEs();
  this.log.debug(`Engines: ${JSON.stringify(engines)}`);
  return engines;
};
commands.getActiveIMEEngine = async function getActiveIMEEngine() {
  this.log.debug('Retrieving current default IME');
  return await this.adb.defaultIME();
};
commands.activateIMEEngine = async function activateIMEEngine(imeId) {
  this.log.debug(`Attempting to activate IME ${imeId}`);
  let availableEngines = await this.adb.availableIMEs();
  if (availableEngines.indexOf(imeId) === -1) {
    this.log.debug('IME not found, failing');
    throw new _driver.errors.IMENotAvailableError();
  }
  this.log.debug('Found installed IME, attempting to activate');
  await this.adb.enableIME(imeId);
  await this.adb.setIME(imeId);
};
commands.deactivateIMEEngine = async function deactivateIMEEngine() {
  let currentEngine = await this.getActiveIMEEngine();
  this.log.debug(`Attempting to deactivate ${currentEngine}`);
  await this.adb.disableIME(currentEngine);
};
Object.assign(extensions, commands, helpers);
var _default = extensions;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZHJpdmVyIiwicmVxdWlyZSIsImNvbW1hbmRzIiwiaGVscGVycyIsImV4dGVuc2lvbnMiLCJleHBvcnRzIiwiaXNJTUVBY3RpdmF0ZWQiLCJhdmFpbGFibGVJTUVFbmdpbmVzIiwibG9nIiwiZGVidWciLCJlbmdpbmVzIiwiYWRiIiwiYXZhaWxhYmxlSU1FcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRBY3RpdmVJTUVFbmdpbmUiLCJkZWZhdWx0SU1FIiwiYWN0aXZhdGVJTUVFbmdpbmUiLCJpbWVJZCIsImF2YWlsYWJsZUVuZ2luZXMiLCJpbmRleE9mIiwiZXJyb3JzIiwiSU1FTm90QXZhaWxhYmxlRXJyb3IiLCJlbmFibGVJTUUiLCJzZXRJTUUiLCJkZWFjdGl2YXRlSU1FRW5naW5lIiwiY3VycmVudEVuZ2luZSIsImRpc2FibGVJTUUiLCJPYmplY3QiLCJhc3NpZ24iLCJfZGVmYXVsdCIsImRlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvY29tbWFuZHMvaW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVycm9ycyB9IGZyb20gJ2FwcGl1bS9kcml2ZXInO1xuXG5sZXQgY29tbWFuZHMgPSB7fSwgaGVscGVycyA9IHt9LCBleHRlbnNpb25zID0ge307XG5cbmNvbW1hbmRzLmlzSU1FQWN0aXZhdGVkID0gYXN5bmMgZnVuY3Rpb24gaXNJTUVBY3RpdmF0ZWQgKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtYXdhaXRcbiAgLy8gSU1FIGlzIGFsd2F5cyBhY3RpdmF0ZWQgb24gQW5kcm9pZCBkZXZpY2VzXG4gIHJldHVybiB0cnVlO1xufTtcblxuY29tbWFuZHMuYXZhaWxhYmxlSU1FRW5naW5lcyA9IGFzeW5jIGZ1bmN0aW9uIGF2YWlsYWJsZUlNRUVuZ2luZXMgKCkge1xuICB0aGlzLmxvZy5kZWJ1ZygnUmV0cmlldmluZyBhdmFpbGFibGUgSU1FcycpO1xuICBsZXQgZW5naW5lcyA9IGF3YWl0IHRoaXMuYWRiLmF2YWlsYWJsZUlNRXMoKTtcbiAgdGhpcy5sb2cuZGVidWcoYEVuZ2luZXM6ICR7SlNPTi5zdHJpbmdpZnkoZW5naW5lcyl9YCk7XG4gIHJldHVybiBlbmdpbmVzO1xufTtcblxuY29tbWFuZHMuZ2V0QWN0aXZlSU1FRW5naW5lID0gYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZlSU1FRW5naW5lICgpIHtcbiAgdGhpcy5sb2cuZGVidWcoJ1JldHJpZXZpbmcgY3VycmVudCBkZWZhdWx0IElNRScpO1xuICByZXR1cm4gYXdhaXQgdGhpcy5hZGIuZGVmYXVsdElNRSgpO1xufTtcblxuY29tbWFuZHMuYWN0aXZhdGVJTUVFbmdpbmUgPSBhc3luYyBmdW5jdGlvbiBhY3RpdmF0ZUlNRUVuZ2luZSAoaW1lSWQpIHtcbiAgdGhpcy5sb2cuZGVidWcoYEF0dGVtcHRpbmcgdG8gYWN0aXZhdGUgSU1FICR7aW1lSWR9YCk7XG4gIGxldCBhdmFpbGFibGVFbmdpbmVzID0gYXdhaXQgdGhpcy5hZGIuYXZhaWxhYmxlSU1FcygpO1xuICBpZiAoYXZhaWxhYmxlRW5naW5lcy5pbmRleE9mKGltZUlkKSA9PT0gLTEpIHtcbiAgICB0aGlzLmxvZy5kZWJ1ZygnSU1FIG5vdCBmb3VuZCwgZmFpbGluZycpO1xuICAgIHRocm93IG5ldyBlcnJvcnMuSU1FTm90QXZhaWxhYmxlRXJyb3IoKTtcbiAgfVxuICB0aGlzLmxvZy5kZWJ1ZygnRm91bmQgaW5zdGFsbGVkIElNRSwgYXR0ZW1wdGluZyB0byBhY3RpdmF0ZScpO1xuICBhd2FpdCB0aGlzLmFkYi5lbmFibGVJTUUoaW1lSWQpO1xuICBhd2FpdCB0aGlzLmFkYi5zZXRJTUUoaW1lSWQpO1xufTtcblxuY29tbWFuZHMuZGVhY3RpdmF0ZUlNRUVuZ2luZSA9IGFzeW5jIGZ1bmN0aW9uIGRlYWN0aXZhdGVJTUVFbmdpbmUgKCkge1xuICBsZXQgY3VycmVudEVuZ2luZSA9IGF3YWl0IHRoaXMuZ2V0QWN0aXZlSU1FRW5naW5lKCk7XG4gIHRoaXMubG9nLmRlYnVnKGBBdHRlbXB0aW5nIHRvIGRlYWN0aXZhdGUgJHtjdXJyZW50RW5naW5lfWApO1xuICBhd2FpdCB0aGlzLmFkYi5kaXNhYmxlSU1FKGN1cnJlbnRFbmdpbmUpO1xufTtcblxuT2JqZWN0LmFzc2lnbihleHRlbnNpb25zLCBjb21tYW5kcywgaGVscGVycyk7XG5leHBvcnQgeyBjb21tYW5kcywgaGVscGVycyB9O1xuZXhwb3J0IGRlZmF1bHQgZXh0ZW5zaW9ucztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsT0FBQTtBQUVBLElBQUlDLFFBQVEsR0FBRyxDQUFDLENBQUM7RUFBRUMsT0FBTyxHQUFHLENBQUMsQ0FBQztFQUFFQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBQUNDLE9BQUEsQ0FBQUYsT0FBQSxHQUFBQSxPQUFBO0FBQUFFLE9BQUEsQ0FBQUgsUUFBQSxHQUFBQSxRQUFBO0FBRWpEQSxRQUFRLENBQUNJLGNBQWMsR0FBRyxlQUFlQSxjQUFjQSxDQUFBLEVBQUk7RUFFekQsT0FBTyxJQUFJO0FBQ2IsQ0FBQztBQUVESixRQUFRLENBQUNLLG1CQUFtQixHQUFHLGVBQWVBLG1CQUFtQkEsQ0FBQSxFQUFJO0VBQ25FLElBQUksQ0FBQ0MsR0FBRyxDQUFDQyxLQUFLLENBQUMsMkJBQTJCLENBQUM7RUFDM0MsSUFBSUMsT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDQyxHQUFHLENBQUNDLGFBQWEsQ0FBQyxDQUFDO0VBQzVDLElBQUksQ0FBQ0osR0FBRyxDQUFDQyxLQUFLLENBQUUsWUFBV0ksSUFBSSxDQUFDQyxTQUFTLENBQUNKLE9BQU8sQ0FBRSxFQUFDLENBQUM7RUFDckQsT0FBT0EsT0FBTztBQUNoQixDQUFDO0FBRURSLFFBQVEsQ0FBQ2Esa0JBQWtCLEdBQUcsZUFBZUEsa0JBQWtCQSxDQUFBLEVBQUk7RUFDakUsSUFBSSxDQUFDUCxHQUFHLENBQUNDLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQztFQUNoRCxPQUFPLE1BQU0sSUFBSSxDQUFDRSxHQUFHLENBQUNLLFVBQVUsQ0FBQyxDQUFDO0FBQ3BDLENBQUM7QUFFRGQsUUFBUSxDQUFDZSxpQkFBaUIsR0FBRyxlQUFlQSxpQkFBaUJBLENBQUVDLEtBQUssRUFBRTtFQUNwRSxJQUFJLENBQUNWLEdBQUcsQ0FBQ0MsS0FBSyxDQUFFLDhCQUE2QlMsS0FBTSxFQUFDLENBQUM7RUFDckQsSUFBSUMsZ0JBQWdCLEdBQUcsTUFBTSxJQUFJLENBQUNSLEdBQUcsQ0FBQ0MsYUFBYSxDQUFDLENBQUM7RUFDckQsSUFBSU8sZ0JBQWdCLENBQUNDLE9BQU8sQ0FBQ0YsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7SUFDMUMsSUFBSSxDQUFDVixHQUFHLENBQUNDLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQztJQUN4QyxNQUFNLElBQUlZLGNBQU0sQ0FBQ0Msb0JBQW9CLENBQUMsQ0FBQztFQUN6QztFQUNBLElBQUksQ0FBQ2QsR0FBRyxDQUFDQyxLQUFLLENBQUMsNkNBQTZDLENBQUM7RUFDN0QsTUFBTSxJQUFJLENBQUNFLEdBQUcsQ0FBQ1ksU0FBUyxDQUFDTCxLQUFLLENBQUM7RUFDL0IsTUFBTSxJQUFJLENBQUNQLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDTixLQUFLLENBQUM7QUFDOUIsQ0FBQztBQUVEaEIsUUFBUSxDQUFDdUIsbUJBQW1CLEdBQUcsZUFBZUEsbUJBQW1CQSxDQUFBLEVBQUk7RUFDbkUsSUFBSUMsYUFBYSxHQUFHLE1BQU0sSUFBSSxDQUFDWCxrQkFBa0IsQ0FBQyxDQUFDO0VBQ25ELElBQUksQ0FBQ1AsR0FBRyxDQUFDQyxLQUFLLENBQUUsNEJBQTJCaUIsYUFBYyxFQUFDLENBQUM7RUFDM0QsTUFBTSxJQUFJLENBQUNmLEdBQUcsQ0FBQ2dCLFVBQVUsQ0FBQ0QsYUFBYSxDQUFDO0FBQzFDLENBQUM7QUFFREUsTUFBTSxDQUFDQyxNQUFNLENBQUN6QixVQUFVLEVBQUVGLFFBQVEsRUFBRUMsT0FBTyxDQUFDO0FBQUMsSUFBQTJCLFFBQUEsR0FFOUIxQixVQUFVO0FBQUFDLE9BQUEsQ0FBQTBCLE9BQUEsR0FBQUQsUUFBQSJ9