"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.UiAutomator = void 0;
require("source-map-support/register");
var _events = _interopRequireDefault(require("events"));
var _support = require("@appium/support");
const log = _support.logger.getLogger('UiAutomator');
class UiAutomator extends _events.default.EventEmitter {
  constructor(adb) {
    if (!adb) {
      log.errorAndThrow('adb is required to instantiate UiAutomator');
    }
    super();
    this.adb = adb;
    this.tempPath = '/data/local/tmp/';
  }
  async start(uiAutomatorBinaryPath, className, startDetector, ...extraParams) {
    let processIsAlive;
    try {
      log.debug('Starting UiAutomator');
      this.changeState(UiAutomator.STATE_STARTING);
      log.debug('Parsing uiautomator jar');
      let jarName = this.parseJarNameFromPath(uiAutomatorBinaryPath);
      await this.adb.push(uiAutomatorBinaryPath, this.tempPath);
      await this.killUiAutomatorOnDevice();
      log.debug('Starting UIAutomator');
      let args = ['shell', 'uiautomator', 'runtest', jarName, '-c', className, ...extraParams];
      this.proc = this.adb.createSubProcess(args);
      this.proc.on('exit', (code, signal) => {
        processIsAlive = false;
        if (this.state !== UiAutomator.STATE_STOPPED && this.state !== UiAutomator.STATE_STOPPING) {
          let msg = `UiAutomator exited unexpectedly with code ${code}, ` + `signal ${signal}`;
          log.error(msg);
        } else if (this.state === UiAutomator.STATE_STOPPING) {
          log.debug('UiAutomator shut down normally');
        }
        this.changeState(UiAutomator.STATE_STOPPED);
      });
      await this.proc.start(startDetector);
      processIsAlive = true;
      this.changeState(UiAutomator.STATE_ONLINE);
      return this.proc;
    } catch (e) {
      this.emit(UiAutomator.EVENT_ERROR, e);
      if (processIsAlive) {
        await this.killUiAutomatorOnDevice();
        await this.proc.stop();
      }
      log.errorAndThrow(e);
    }
  }
  async shutdown() {
    log.debug('Shutting down UiAutomator');
    if (this.state !== UiAutomator.STATE_STOPPED) {
      this.changeState(UiAutomator.STATE_STOPPING);
      await this.proc.stop();
    }
    await this.killUiAutomatorOnDevice();
    this.changeState(UiAutomator.STATE_STOPPED);
  }
  parseJarNameFromPath(binaryPath) {
    let reTest = /.*(\/|\\)(.*\.jar)/.exec(binaryPath);
    if (!reTest) {
      throw new Error(`Unable to parse jar name from ${binaryPath}`);
    }
    let jarName = reTest[2];
    log.debug(`Found jar name: '${jarName}'`);
    return jarName;
  }
  changeState(state) {
    log.debug(`Moving to state '${state}'`);
    this.state = state;
    this.emit(UiAutomator.EVENT_CHANGED, {
      state
    });
  }
  async killUiAutomatorOnDevice() {
    try {
      await this.adb.killProcessesByName('uiautomator');
    } catch (e) {
      log.warn(`Error while killing uiAutomator: ${e}`);
    }
  }
}
exports.UiAutomator = UiAutomator;
UiAutomator.EVENT_ERROR = 'uiautomator_error';
UiAutomator.EVENT_CHANGED = 'stateChanged';
UiAutomator.STATE_STOPPING = 'stopping';
UiAutomator.STATE_STOPPED = 'stopped';
UiAutomator.STATE_STARTING = 'starting';
UiAutomator.STATE_ONLINE = 'online';
var _default = UiAutomator;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXZlbnRzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfc3VwcG9ydCIsImxvZyIsImxvZ2dlciIsImdldExvZ2dlciIsIlVpQXV0b21hdG9yIiwiZXZlbnRzIiwiRXZlbnRFbWl0dGVyIiwiY29uc3RydWN0b3IiLCJhZGIiLCJlcnJvckFuZFRocm93IiwidGVtcFBhdGgiLCJzdGFydCIsInVpQXV0b21hdG9yQmluYXJ5UGF0aCIsImNsYXNzTmFtZSIsInN0YXJ0RGV0ZWN0b3IiLCJleHRyYVBhcmFtcyIsInByb2Nlc3NJc0FsaXZlIiwiZGVidWciLCJjaGFuZ2VTdGF0ZSIsIlNUQVRFX1NUQVJUSU5HIiwiamFyTmFtZSIsInBhcnNlSmFyTmFtZUZyb21QYXRoIiwicHVzaCIsImtpbGxVaUF1dG9tYXRvck9uRGV2aWNlIiwiYXJncyIsInByb2MiLCJjcmVhdGVTdWJQcm9jZXNzIiwib24iLCJjb2RlIiwic2lnbmFsIiwic3RhdGUiLCJTVEFURV9TVE9QUEVEIiwiU1RBVEVfU1RPUFBJTkciLCJtc2ciLCJlcnJvciIsIlNUQVRFX09OTElORSIsImUiLCJlbWl0IiwiRVZFTlRfRVJST1IiLCJzdG9wIiwic2h1dGRvd24iLCJiaW5hcnlQYXRoIiwicmVUZXN0IiwiZXhlYyIsIkVycm9yIiwiRVZFTlRfQ0hBTkdFRCIsImtpbGxQcm9jZXNzZXNCeU5hbWUiLCJ3YXJuIiwiZXhwb3J0cyIsIl9kZWZhdWx0IiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi91aWF1dG9tYXRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXZlbnRzIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAYXBwaXVtL3N1cHBvcnQnO1xuXG5cbmNvbnN0IGxvZyA9IGxvZ2dlci5nZXRMb2dnZXIoJ1VpQXV0b21hdG9yJyk7XG5cbmNsYXNzIFVpQXV0b21hdG9yIGV4dGVuZHMgZXZlbnRzLkV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yIChhZGIpIHtcbiAgICBpZiAoIWFkYikge1xuICAgICAgbG9nLmVycm9yQW5kVGhyb3coJ2FkYiBpcyByZXF1aXJlZCB0byBpbnN0YW50aWF0ZSBVaUF1dG9tYXRvcicpO1xuICAgIH1cbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRiID0gYWRiO1xuICAgIHRoaXMudGVtcFBhdGggPSAnL2RhdGEvbG9jYWwvdG1wLyc7XG4gIH1cblxuICBhc3luYyBzdGFydCAodWlBdXRvbWF0b3JCaW5hcnlQYXRoLCBjbGFzc05hbWUsIHN0YXJ0RGV0ZWN0b3IsIC4uLmV4dHJhUGFyYW1zKSB7XG4gICAgbGV0IHByb2Nlc3NJc0FsaXZlO1xuICAgIHRyeSB7XG4gICAgICBsb2cuZGVidWcoJ1N0YXJ0aW5nIFVpQXV0b21hdG9yJyk7XG4gICAgICB0aGlzLmNoYW5nZVN0YXRlKFVpQXV0b21hdG9yLlNUQVRFX1NUQVJUSU5HKTtcblxuICAgICAgbG9nLmRlYnVnKCdQYXJzaW5nIHVpYXV0b21hdG9yIGphcicpO1xuICAgICAgLy8gZXhwZWN0aW5nIGEgcGF0aCBsaWtlIC9hZHMvYWRzL2Zvby5qYXIgb3IgXFxhc2RcXGFzZFxcZm9vLmphclxuICAgICAgbGV0IGphck5hbWUgPSB0aGlzLnBhcnNlSmFyTmFtZUZyb21QYXRoKHVpQXV0b21hdG9yQmluYXJ5UGF0aCk7XG4gICAgICBhd2FpdCB0aGlzLmFkYi5wdXNoKHVpQXV0b21hdG9yQmluYXJ5UGF0aCwgdGhpcy50ZW1wUGF0aCk7XG5cbiAgICAgIC8vIGtpbGxpbmcgYW55IHVpYXV0b21hdG9yIGV4aXN0aW5nIHByb2Nlc3Nlc1xuICAgICAgYXdhaXQgdGhpcy5raWxsVWlBdXRvbWF0b3JPbkRldmljZSgpO1xuXG4gICAgICBsb2cuZGVidWcoJ1N0YXJ0aW5nIFVJQXV0b21hdG9yJyk7XG4gICAgICBsZXQgYXJncyA9IFsnc2hlbGwnLCAndWlhdXRvbWF0b3InLCAncnVudGVzdCcsIGphck5hbWUsICctYycsIGNsYXNzTmFtZSwgLi4uZXh0cmFQYXJhbXNdO1xuICAgICAgdGhpcy5wcm9jID0gdGhpcy5hZGIuY3JlYXRlU3ViUHJvY2VzcyhhcmdzKTtcblxuICAgICAgLy8gaGFuZGxlIG91dC1vZi1ib3VuZCBleGl0IGJ5IHNpbXBseSBlbWl0dGluZyBhIHN0b3BwZWQgc3RhdGVcbiAgICAgIHRoaXMucHJvYy5vbignZXhpdCcsIChjb2RlLCBzaWduYWwpID0+IHtcbiAgICAgICAgcHJvY2Vzc0lzQWxpdmUgPSBmYWxzZTtcbiAgICAgICAgLy8gY2xlYW51cFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gVWlBdXRvbWF0b3IuU1RBVEVfU1RPUFBFRCAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZSAhPT0gVWlBdXRvbWF0b3IuU1RBVEVfU1RPUFBJTkcpIHtcbiAgICAgICAgICBsZXQgbXNnID0gYFVpQXV0b21hdG9yIGV4aXRlZCB1bmV4cGVjdGVkbHkgd2l0aCBjb2RlICR7Y29kZX0sIGAgK1xuICAgICAgICAgICAgICAgICAgICBgc2lnbmFsICR7c2lnbmFsfWA7XG4gICAgICAgICAgbG9nLmVycm9yKG1zZyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gVWlBdXRvbWF0b3IuU1RBVEVfU1RPUFBJTkcpIHtcbiAgICAgICAgICBsb2cuZGVidWcoJ1VpQXV0b21hdG9yIHNodXQgZG93biBub3JtYWxseScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoVWlBdXRvbWF0b3IuU1RBVEVfU1RPUFBFRCk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgdGhpcy5wcm9jLnN0YXJ0KHN0YXJ0RGV0ZWN0b3IpO1xuICAgICAgcHJvY2Vzc0lzQWxpdmUgPSB0cnVlO1xuICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShVaUF1dG9tYXRvci5TVEFURV9PTkxJTkUpO1xuICAgICAgcmV0dXJuIHRoaXMucHJvYztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmVtaXQoVWlBdXRvbWF0b3IuRVZFTlRfRVJST1IsIGUpO1xuICAgICAgaWYgKHByb2Nlc3NJc0FsaXZlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMua2lsbFVpQXV0b21hdG9yT25EZXZpY2UoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wcm9jLnN0b3AoKTtcbiAgICAgIH1cbiAgICAgIGxvZy5lcnJvckFuZFRocm93KGUpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNodXRkb3duICgpIHtcbiAgICBsb2cuZGVidWcoJ1NodXR0aW5nIGRvd24gVWlBdXRvbWF0b3InKTtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPT0gVWlBdXRvbWF0b3IuU1RBVEVfU1RPUFBFRCkge1xuICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShVaUF1dG9tYXRvci5TVEFURV9TVE9QUElORyk7XG4gICAgICBhd2FpdCB0aGlzLnByb2Muc3RvcCgpO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLmtpbGxVaUF1dG9tYXRvck9uRGV2aWNlKCk7XG4gICAgdGhpcy5jaGFuZ2VTdGF0ZShVaUF1dG9tYXRvci5TVEFURV9TVE9QUEVEKTtcbiAgfVxuXG4gIHBhcnNlSmFyTmFtZUZyb21QYXRoIChiaW5hcnlQYXRoKSB7XG4gICAgbGV0IHJlVGVzdCA9IC8uKihcXC98XFxcXCkoLipcXC5qYXIpLy5leGVjKGJpbmFyeVBhdGgpO1xuICAgIGlmICghcmVUZXN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBwYXJzZSBqYXIgbmFtZSBmcm9tICR7YmluYXJ5UGF0aH1gKTtcbiAgICB9XG4gICAgbGV0IGphck5hbWUgPSByZVRlc3RbMl07XG4gICAgbG9nLmRlYnVnKGBGb3VuZCBqYXIgbmFtZTogJyR7amFyTmFtZX0nYCk7XG4gICAgcmV0dXJuIGphck5hbWU7XG4gIH1cblxuICBjaGFuZ2VTdGF0ZSAoc3RhdGUpIHtcbiAgICBsb2cuZGVidWcoYE1vdmluZyB0byBzdGF0ZSAnJHtzdGF0ZX0nYCk7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuZW1pdChVaUF1dG9tYXRvci5FVkVOVF9DSEFOR0VELCB7c3RhdGV9KTtcbiAgfVxuXG4gIGFzeW5jIGtpbGxVaUF1dG9tYXRvck9uRGV2aWNlICgpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5hZGIua2lsbFByb2Nlc3Nlc0J5TmFtZSgndWlhdXRvbWF0b3InKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2cud2FybihgRXJyb3Igd2hpbGUga2lsbGluZyB1aUF1dG9tYXRvcjogJHtlfWApO1xuICAgIH1cbiAgfVxuXG59XG5cblVpQXV0b21hdG9yLkVWRU5UX0VSUk9SID0gJ3VpYXV0b21hdG9yX2Vycm9yJztcblVpQXV0b21hdG9yLkVWRU5UX0NIQU5HRUQgPSAnc3RhdGVDaGFuZ2VkJztcblVpQXV0b21hdG9yLlNUQVRFX1NUT1BQSU5HID0gJ3N0b3BwaW5nJztcblVpQXV0b21hdG9yLlNUQVRFX1NUT1BQRUQgPSAnc3RvcHBlZCc7XG5VaUF1dG9tYXRvci5TVEFURV9TVEFSVElORyA9ICdzdGFydGluZyc7XG5VaUF1dG9tYXRvci5TVEFURV9PTkxJTkUgPSAnb25saW5lJztcblxuXG5leHBvcnQgeyBVaUF1dG9tYXRvciB9O1xuZXhwb3J0IGRlZmF1bHQgVWlBdXRvbWF0b3I7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBR0EsTUFBTUUsR0FBRyxHQUFHQyxlQUFNLENBQUNDLFNBQVMsQ0FBQyxhQUFhLENBQUM7QUFFM0MsTUFBTUMsV0FBVyxTQUFTQyxlQUFNLENBQUNDLFlBQVksQ0FBQztFQUM1Q0MsV0FBV0EsQ0FBRUMsR0FBRyxFQUFFO0lBQ2hCLElBQUksQ0FBQ0EsR0FBRyxFQUFFO01BQ1JQLEdBQUcsQ0FBQ1EsYUFBYSxDQUFDLDRDQUE0QyxDQUFDO0lBQ2pFO0lBQ0EsS0FBSyxDQUFDLENBQUM7SUFDUCxJQUFJLENBQUNELEdBQUcsR0FBR0EsR0FBRztJ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