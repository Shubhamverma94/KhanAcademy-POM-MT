"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.cropBase64Image = void 0;
const sharp_1 = __importDefault(require("sharp"));
/**
 * Crop the image by given rectangle (use base64 string as input and output)
 *
 * @param {string} base64Image The string with base64 encoded image.
 * Supports all image formats natively supported by Sharp library.
 * @param {sharp.Region} rect The selected region of image
 * @return {Promise<string>} base64 encoded string of cropped image
 */
async function cropBase64Image(base64Image, rect) {
    const buf = await (0, sharp_1.default)(Buffer.from(base64Image, 'base64')).extract(rect).toBuffer();
    return buf.toString('base64');
}
exports.cropBase64Image = cropBase64Image;
//# sourceMappingURL=image-util.js.map